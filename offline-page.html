<!DOCTYPE html>
<html lang="en">
<head>
  <title>Howard Chiam</title>
  <meta name="description" content="Howard's Portfolio Central" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="shortcut icon" href="htc.png"/>
  <!-- <link rel="stylesheet" href="style.css"> -->
  <style>
    *{background:#202020;color:#f5f5f5;font-family:avenir,arial;padding:10px;transition:.5s}button{border-radius:10px;border-style:solid;border-color:#fff;border-width:1px}a:focus,a:hover,button:focus,button:hover{background:#0f0;color:#000;text-decoration:underline;outline:0;box-shadow:0 0 0 2pt #fff}a:focus,button:focus{box-shadow:0 0 0 4pt #fff}.center{text-align:center}.shake:hover{animation:wobble .5s;animation-iteration-count:1}#hint{font-size:xx-large;font-weight:bolder;color:#323232}#hint:hover{color:#0f0}#secret-button{position:absolute;left:-20%;z-index:3}#secret-button:focus{left:10%!important}@media only screen and (max-device-width:640px){button{min-width:48px;min-height:48px;margin:10px}#secret-button{left:0;top:120vh}}.view-resize-animation{margin:10px}#hint,a:focus,a:hover,button:focus,button:hover{animation-name:wobble;animation-duration:.5s;animation-iteration-count:infinite}@keyframes wobble{0%{transform:rotate(-5deg)}50%{transform:rotate(5deg)}100%{transform:rotate(-5deg)}}#draggable-handle{cursor:move;border-radius:1em}#draggable{z-index:1;transition:none}.commandKey{background:navy}div,img,p{background:rgba(0,0,0,0);display:block;margin-left:auto;margin-right:auto}#cover{z-index:2;position:absolute;width:100vw;height:100vh;background:inherit}
  </style>
  <script src="jquery.min.js"></script>
  <script src="jquery-ui.min.js"></script>
  <script>
    function slideIn(){document.getElementById("cover").style.visibility="hidden",$("section").css({position:"relative",top:"-100%"}),$("section").animate({top:0})}function expandButtons(){for(var e=Array.prototype.slice.call(document.querySelectorAll("button")),t=0;t<e.length;t++)e[t].classList.add("view-resize-animation")}function onDesktop(){return window.screen.availWidth>640}function showHint(){document.getElementById("hint").style.visibility="visible"}function hideHint(){document.getElementById("hint").style.visibility="hidden"}function hideSecretButton(){document.getElementById("secret-button").style.visibility="hidden"}function focusOnLearningLink(){document.querySelector("#learning-link button").focus()}function surprise(){document.getElementById("learning-link").style.visibility="visible",hideSecretButton(),hideHint(),setTimeout(()=>{showHint(),focusOnLearningLink(),$("#hint").text("Hint: drag the icon to move things around.")},100)}function getRandomNumber(e,t){return Math.floor(Math.random()*t+e)}setTimeout(()=>{slideIn()},0),setTimeout(()=>{expandButtons()},1e3),setTimeout(()=>{onDesktop()||(document.getElementById("hint").innerHTML="Hint: scroll down"),showHint()},2e3),setUpGame();let gameOn=!1,turnedGameOnOnce=!1,continueGame=!1;function setUpGame(){$(document).ready((function(){document.getElementById("draggable-handle").onmouseenter=function(){(turnedGameOnOnce||onDesktop())&&($("#draggable").draggable(),hideHint(),turnedGameOnOnce&&showGameButtons())},document.getElementById("draggable-handle").onmouseleave=function(){onDesktop()&&!continueGame&&($("#draggable").draggable("destroy"),resetGameButtons(),gameOn=!1)}}))}function showGameButtons(){document.documentElement.clientWidth<640||(setUpGameButtons(),gameOn=!0,turnedGameOnOnce=!0)}function setUpGameButtons(){$('button:contains("GitHub")').text(" A ").attr("onclick","jQuery.event.trigger({ type : 'keydown', keyCode : 65 });"),$('button:contains("CodePen")').text(" S ").attr("onclick","jQuery.event.trigger({ type : 'keydown', keyCode : 83 });"),$('button:contains("Glitch")').text(" D ").attr("onclick","jQuery.event.trigger({ type : 'keydown', keyCode : 68 });"),$('button:contains("LinkedIn")').text(" F ").attr("onclick","jQuery.event.trigger({ type : 'keydown', keyCode : 70 });"),$('button:contains("Blog")').text(" C ").attr("onclick","jQuery.event.trigger({ type : 'keydown', keyCode : 67 });"),$('button:contains("Memrise")').text(" SPACE ").attr("onclick","jQuery.event.trigger({ type : 'keydown', keyCode : 32 });")}function resetGameButtons(){$('button:contains(" A ")').text("GitHub").attr("onclick","window.open('https://github.com/hchiam', '_blank');"),$('button:contains(" S ")').text("CodePen").attr("onclick","window.open('https://codepen.io/hchiam', '_blank');"),$('button:contains(" D ")').text("Glitch").attr("onclick","window.open('https://glitch.com/@hchiam', '_blank');"),$('button:contains(" F ")').text("LinkedIn").attr("onclick","window.open('https://ca.linkedin.com/in/howardchiam', '_blank');"),$('button:contains(" C ")').text("Blog").attr("onclick","window.open('https://hchiam.blogspot.com', '_blank');"),$('button:contains(" SPACE ")').text("Memrise").attr("onclick","window.open('https://www.memrise.com/user/hchiam/courses/learning', '_blank');")}function childrenExodus(e){let t=$(e+" *").detach();$("body").append(t),$(e).remove()}function makeCommandKeysConspicuous(){$('button:contains(" A ")').addClass("commandKey"),$('button:contains(" S ")').addClass("commandKey"),$('button:contains(" D ")').addClass("commandKey"),$('button:contains(" F ")').addClass("commandKey"),$('button:contains(" C ")').addClass("commandKey"),$('button:contains(" SPACE ")').addClass("commandKey")}$(document).keydown((function(e){if(gameOn)if(65===e.keyCode)$("#game-container").append("<button>?</button>");else if(83===e.keyCode)$("#game-container *:last-child").remove();else if(68===e.keyCode)$("#game-container *").remove();else if(70===e.keyCode){$("#game-container *").remove();for(let e=0;e<30;e++)$("#game-container").append("<button>?</button>")}else 67===e.keyCode&&((continueGame=!continueGame)||($("#draggable").draggable("destroy"),resetGameButtons(),gameOn=!1));turnedGameOnOnce&&32===e.keyCode&&(showHint(),$("#hint").text("Hint: refresh the page."),childrenExodus("section"),childrenExodus("#draggable"),makeCommandKeysConspicuous(),scatterSpace())}));let scatteredSpace=!1;function scatterSpace(){$("button, img, #hint, h1, p").each((function(){const e=$(this).width(),t=$(this).height(),n=getRandomNumber(0,window.innerWidth-e),o=getRandomNumber(0,window.innerHeight-t);$(this).css({position:"absolute"}).animate({left:n+"px",top:o+"px"},"fast","swing")})),scatteredSpace=!0}function goToSNPromptGenerator(){$((function(){$("body").load("https://cdn.jsdelivr.net/gh/hchiam/sn-prompt-generator@master/index.html"),$('link[href="style.css"]').prop("disabled",!0),$("head").append('<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/hchiam/sn-prompt-generator@master/style.css">'),$("head").append('<script src="https://cdn.jsdelivr.net/gh/hchiam/sn-prompt-generator@master/script.js"><\/script>')}))}function goToCRPrep(){$((function(){$("body").load("https://cdn.jsdelivr.net/gh/hchiam/cr-prep@master/index.html #button-bar, #checkbox-box, #hover-info"),$('link[href="style.css"]').prop("disabled",!0),$("head").append('<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/hchiam/cr-prep@master/style.css">'),$("head").append('<script src="https://cdn.jsdelivr.net/gh/hchiam/cr-prep@master/download-page-as-image.js"><\/script>'),$("head").append('<script src="https://cdn.jsdelivr.net/gh/hchiam/cr-prep@master/script.js"><\/script>')}))}
const audioCtx=new AudioContext;let notes=[];function playNotes(){document.documentElement.clientWidth<640||($("#hint").text("To stop audio, click off or stop dragging.").show().css("color","lime"),showHint(),playNoteOfId("draggable-handle"))}function adjustNotes(){if(!(document.documentElement.clientWidth<640))for(let t in notes){const[e,o]=getCoordinates("draggable-handle"),n=getFrequencyFromX(e),i=getVolumeFromY(o);notes[t].volumeSetup.gain.value=i,notes[t].oscillator.frequency.value=n,indicateNoteWithColour("img#draggable-handle",i,n)}}function indicateNoteWithColour(t,e,o){let n=normalize(e,0,.5,0,100);n=Math.round(n);let i=normalize(o,150,400,0,359);i=Math.round(i);let l="hsl("+String(i)+","+String(n)+"%, 50%)";document.querySelector(t).style.background=l}function stopNotes(){for(let t in notes){notes[t].oscillator.stop(audioCtx.currentTime)}notes=[],$("#hint").hide()}function playNoteOfId(t,e){const[o,n]=getCoordinates(t);playNote([o,n],e)}function getCoordinates(t){const e=document.getElementById(t).getBoundingClientRect();return console.log(e.top,e.right,e.bottom,e.left),[e.left,e.top]}function playNote([t,e],o=4){console.log(t,e);const n=getFrequencyFromX(t),i=getVolumeFromY(e),l=audioCtx.createGain();l.connect(audioCtx.destination),l.gain.value=i;const c=audioCtx.createOscillator();c.type="sine",c.frequency.value=n,c.connect(l),c.start();notes.push({oscillator:c,volumeSetup:l})}function getFrequencyFromX(t){return normalize(t,0,Math.max(document.documentElement.clientWidth,window.innerWidth||0),150,400)}function getVolumeFromY(t){return normalize(t,0,Math.max(document.documentElement.clientHeight,window.innerHeight||0),0,.1)}function normalize(t,e,o,n,i){return(t-e)*((i-n)/(o-e))+n}
  </script>
</head>
<body onmouseup="stopNotes()">
  <button id="secret-button" onclick="surprise()">Secret Button!</button>
  <div id="cover" aria-hidden="true"></div>
  <section class="center">
    <h1>Howard Chiam</h1>
    <p>Learning. Languages. Other stuff.</p>
    <div id="draggable" 
         draggable 
         ondragstart="showGameButtons();playNotes();" 
         ondrag="adjustNotes();" 
         ontouchstart="showGameButtons();playNotes();" 
         ontouchmove="adjustNotes();" 
         ontouchend="stopNotes()">
      <button id="a" onclick="window.open('https:\/\/github.com/hchiam', '_blank');">GitHub</button>
      <button id="s" onclick="window.open('https:\/\/codepen.io/hchiam', '_blank');">CodePen</button>
      <button id="d" onclick="window.open('https:\/\/glitch.com/@hchiam', '_blank');">Glitch</button>
      <button id="f" onclick="window.open('https:\/\/ca.linkedin.com/in/howardchiam', '_blank');">LinkedIn</button>
      <button id="c" onclick="window.open('https:\/\/hchiam.blogspot.com', '_blank');">Blog</button>
      <button id="space" onclick="window.open('https:\/\/www.memrise.com/user/hchiam/courses/learning', '_blank');">Memrise</button>
      <img id="draggable-handle" class="shake" src="htc.png" alt="Howard signature icon" width="100px">
      <div id="game-container"></div>
    </div>
    <div style="visibility: hidden;">
      <p id="hint" aria-live="polite">Hint: hit tab</p>
    </div>
    <div id="learning-link" style="visibility: hidden;">
      <p>Here are things I've been learning and working on: <button onclick="window.open('https:\/\/github.com/hchiam/learning#learning', '_blank');" 
                                                                    aria-label="link to my learning repo">https://github.com/hchiam/learning</button></p>
    </div>
  </section>
</body>
</html>
